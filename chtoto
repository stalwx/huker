#include <Keyboard.h>
// C миллисами
int buttonPin = 2;
long count;                 // счетчик опять
long previousMillis = 0;    // пред
const long interval = 200; // интервал изменения.
const int incr = 1000;
byte KeyWPressed; 

void setup() {
  count = 0;
  pinMode(buttonPin, INPUT_PULLUP);
  Serial.begin(38400);
  KeyWPressed = 0;
}

void loop() {
  int buttonValue = digitalRead(buttonPin);
  unsigned long currentMillis = millis();
  if (buttonValue == LOW) {
    count += incr; 
  }
  if (count > 0) {
    if (KeyWPressed == 0){
      Keyboard.press('w');  
      KeyWPressed = 1;
    }
  } 
  else {
    Keyboard.releaseAll();
    KeyWPressed = 0;
  }
  if (currentMillis - previousMillis >= interval) {
    previousMillis = currentMillis;
    count -= interval;
  }
}
